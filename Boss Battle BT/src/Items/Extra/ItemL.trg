{
  "Id": 50332838,
  "Comment": "",
  "IsScript": true,
  "RunOnMapInit": false,
  "Script": "function ItemLLogic takes nothing returns boolean\r\n    if BlzGetItemAbility( GetManipulatedItem(), 'A108' ) != null then \r\n        return true\r\n    endif\r\n    if BlzGetItemAbility( GetManipulatedItem(), 'A13L' ) != null then \r\n        return true\r\n    endif\r\n    if BlzGetItemAbility( GetManipulatedItem(), 'A0G3' ) != null then\r\n        return true\r\n    endif\r\n    if BlzGetItemAbility( GetManipulatedItem(), 'A1GF' ) != null then\r\n    \treturn true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I0BH' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I0FM' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I04F' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I02R' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00K' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00L' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I04B' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I04Q' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I05P' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I0BL' then \r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00C' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I06N' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00O' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00J' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I02G' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I02Z' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00M' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I009' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I078' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I043' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I06H' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I077' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I01K' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I02K' then\r\n        return true\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I0FI'  then\r\n        return true\r\n    endif\r\n    return false\r\nendfunction\r\n\r\nfunction Trig_ItemL_Conditions takes nothing returns boolean\r\n    return not( udg_logic[36] ) and ItemLLogic() and GetPlayerSlotState(GetOwningPlayer(GetManipulatingUnit())) == PLAYER_SLOT_STATE_PLAYING\r\nendfunction\r\n\r\nfunction Trig_ItemL_Actions takes nothing returns nothing\r\n    local unit u = GetManipulatingUnit()\r\n    local integer i = CorrectPlayer(u)\r\n    local integer cyclA\r\n    local integer cyclAEnd\r\n    local integer rand\r\n    \r\n    if not( udg_logic[i + 26] ) then\r\n        if GetItemTypeId(GetManipulatedItem()) == 'I00C' then\r\n            call UnitRemoveAbility(u, 'A0ZA')\r\n        elseif GetItemTypeId(GetManipulatedItem()) == 'I00O' then\r\n            call UnitRemoveAbility(u, 'A0Z1')\r\n        elseif GetItemTypeId(GetManipulatedItem()) == 'I02G' then\r\n            call UnitRemoveAbility(u, 'A0YZ')\r\n        elseif GetItemTypeId(GetManipulatedItem()) == 'I02Z' then\r\n            call UnitRemoveAbility(u, 'A0Z3')\r\n        elseif GetItemTypeId(GetManipulatedItem()) == 'I00M'  then\r\n            call UnitRemoveAbility(u, 'A0CB')\r\n        elseif GetItemTypeId(GetManipulatedItem()) == 'I078' then\r\n            call UnitRemoveAbility(u, 'A0L9')\r\n            call UnitRemoveAbility(u, 'B04I')\r\n        elseif GetItemTypeId(GetManipulatedItem()) == 'I0BL' then\r\n            call UnitRemoveAbility(u, 'A0M9' )\r\n        endif\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00K' then\r\n        set udg_KillInBattle = udg_KillInBattle - 4\r\n    endif\r\n    if BlzGetItemAbility( GetManipulatedItem(), 'A13L' ) != null then \r\n        call spdst( u, -10 )\r\n    endif\r\n    if BlzGetItemAbility( GetManipulatedItem(), 'A108' ) != null then \r\n        set udg_DamageReduction[i] = udg_DamageReduction[i] - 0.04\r\n    endif\r\n    if BlzGetItemAbility( GetManipulatedItem(), 'A0G3' ) != null then\r\n        set udg_RandomBonus_BuffDuration[i] = udg_RandomBonus_BuffDuration[i] - 0.2\r\n    endif\r\n    if GetItemTypeId(GetManipulatedItem()) == 'I00L' then \r\n        call spdst( u, -4 )\r\n        set cyclA = 1\r\n        loop\r\n            exitwhen cyclA > 4\r\n            if GetPlayerSlotState(Player(cyclA - 1)) == PLAYER_SLOT_STATE_PLAYING then\r\n                call spdst( udg_hero[cyclA], -8 )\r\n            endif\r\n            set cyclA = cyclA + 1\r\n        endloop\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I0BH' then\r\n        call SpellPotion(i, -15)\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I04B' then\r\n        call spdst( u, -5 )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I04F'  then\r\n        call spdst( u, -30 )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I0FM' then\r\n        set cyclA = 1\r\n        loop\r\n            exitwhen cyclA > 4\r\n            if GetPlayerSlotState(Player(cyclA - 1)) == PLAYER_SLOT_STATE_PLAYING then\r\n                call spdst( udg_hero[cyclA], -15 )\r\n            endif\r\n            set cyclA = cyclA + 1\r\n        endloop\r\n    elseif BlzGetItemAbility( GetManipulatedItem(), 'A1GF' ) != null then\r\n        call spdst( u, -25 )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I02R'  then\r\n        call spdst( u, -35 )\r\n    \r\n        call SaveBoolean( udg_hash, GetHandleId( GetManipulatingUnit() ), StringHash( \"strz\" ), false )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I05P'  then\r\n        call luckyst( u, -15 )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I00J' then\r\n        set udg_Heroes_Chanse = udg_Heroes_Chanse - 1\r\n        call MultiSetValue( udg_multi, 2, 1, I2S(udg_Heroes_Chanse) )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I043' then\r\n        call RessurectionPoints( -1, true )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I06H'  then\r\n        call spdst( u, -25 )\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I06N'  then\r\n        call luckyst( u, -25 )\r\n        if not( udg_logic[i + 26] ) then\r\n            call UnitRemoveAbility( u, 'A0OU' )\r\n        endif\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I077'  then\r\n        call SpellUniqueUnit(u, -100)\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I01K'  then\r\n        call SpellUniqueUnit(u, -150)\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I02K'  then\r\n        call SpellUniqueUnit(u, -50)\r\n    elseif GetItemTypeId(GetManipulatedItem()) == 'I0FI'  then\r\n        call SpellUniqueUnit(u, -100)\r\n    endif\r\n    \r\n    set u = null\r\nendfunction\r\n\r\n//===========================================================================\r\nfunction InitTrig_ItemL takes nothing returns nothing\r\n    set gg_trg_ItemL = CreateTrigger(  )\r\n    call TriggerRegisterAnyUnitEventBJ( gg_trg_ItemL, EVENT_PLAYER_UNIT_DROP_ITEM )\r\n    call TriggerAddCondition( gg_trg_ItemL, Condition( function Trig_ItemL_Conditions ) )\r\n    call TriggerAddAction( gg_trg_ItemL, function Trig_ItemL_Actions )\r\nendfunction\r\n\r\n",
  "Events": [],
  "LocalVariables": [],
  "Conditions": [],
  "Actions": []
}