{
  "Id": 50332192,
  "Comment": "",
  "IsScript": true,
  "RunOnMapInit": false,
  "Script": "library Multiboard requires Conditions\r\n\r\n    globals\r\n        private constant integer NAME_SYMBOLS_LIMIT = 10\r\n    endglobals\r\n\r\n    private function GetSmallPlayerName takes string playerName, integer index returns string\r\n        local integer symbols = StringLength(playerName)\r\n        local string newName\r\n        \r\n        if symbols > NAME_SYMBOLS_LIMIT and index < udg_Heroes_Amount then\r\n            set newName = SubString(playerName, 0, NAME_SYMBOLS_LIMIT-1) + \"...\"\r\n        else\r\n            set newName = playerName\r\n        endif\r\n\r\n        return newName\r\n    endfunction\r\n    \r\n    function MultiSetValue takes multiboard mb, integer col, integer row, string val returns nothing\r\n        local multiboarditem mbitem = MultiboardGetItem( mb, row - 1, col - 1 )\r\n        \r\n        call MultiboardSetItemValue( mbitem, val )\r\n        call MultiboardReleaseItem( mbitem )\r\n        \r\n        set mb = null\r\n        set mbitem = null\r\n    endfunction\r\n\r\n    function MultiSetColor takes multiboard mb, integer col, integer row, real red, real green, real blue, real transparency returns nothing\r\n        local multiboarditem mbitem = MultiboardGetItem( mb, row - 1, col - 1 )\r\n        local integer array i\r\n        local integer cyclA = 0\r\n        \r\n        set i[0] = R2I( red * 2.25 )\r\n        set i[1] = R2I( green * 2.25 )\r\n        set i[2] = R2I( blue * 2.25 )\r\n        set i[3] = R2I( (100.-transparency) * 2.25 )\r\n        \r\n        loop\r\n            exitwhen cyclA > 3\r\n            if i[cyclA] < 0 then\r\n                set i[cyclA] = 0\r\n            elseif i[cyclA] > 225 then\r\n                set i[cyclA] = 225\r\n            endif\r\n            set cyclA = cyclA + 1\r\n        endloop\r\n        \r\n        call MultiboardSetItemValueColor(mbitem, i[0], i[1], i[2], i[3])\r\n        call MultiboardReleaseItem(mbitem)\r\n        \r\n        set mb = null\r\n        set mbitem = null\r\n    endfunction\r\n\r\n    function MultiSetWidth takes multiboard mb, integer col, integer row, real width returns nothing\r\n        local multiboarditem mbitem = MultiboardGetItem( mb, row - 1, col - 1 )\r\n        \r\n        call MultiboardSetItemWidth(mbitem, width/100.0)\r\n        call MultiboardReleaseItem(mbitem)\r\n        \r\n        set mb = null\r\n        set mbitem = null\r\n    endfunction\r\n\r\n    function MultiSetStyle takes multiboard mb, integer col, integer row, boolean showValue, boolean showIcon returns nothing\r\n        local multiboarditem mbitem = MultiboardGetItem( mb, row - 1, col - 1 )\r\n        \r\n        call MultiboardSetItemStyle(mbitem, showValue, showIcon)\r\n        call MultiboardReleaseItem(mbitem)\r\n        \r\n        set mb = null\r\n        set mbitem = null\r\n    endfunction\r\n\r\n    function MultiSetIcon takes multiboard mb, integer col, integer row, string iconFileName returns nothing\r\n        local multiboarditem mbitem = MultiboardGetItem( mb, row - 1, col - 1 )\r\n        \r\n        call MultiboardSetItemIcon(mbitem, iconFileName)\r\n        call MultiboardReleaseItem(mbitem)\r\n        \r\n        set mb = null\r\n        set mbitem = null\r\n    endfunction\r\n\r\n    function Init_Multiboard takes nothing returns nothing\r\n        local integer cyclA = 1\r\n        local integer cyclAEnd\r\n        local integer cyclB \r\n        local integer i\r\n        \r\n        call DisableTrigger( GetTriggeringTrigger() )\r\n        set udg_multi = CreateMultiboard()\r\n        set bj_lastCreatedMultiboard = udg_multi\r\n        call MultiboardSetRowCount( udg_multi, 15 )\r\n        call MultiboardSetColumnCount( udg_multi, ( 3 * udg_Heroes_Amount ) + 2 )\r\n        call MultiboardSetTitleText( udg_multi, \"Statistics [0:00:00]\")\r\n        call MultiboardDisplay( udg_multi, true)\r\n        call MultiSetValue( udg_multi, 2, 1, I2S(udg_Heroes_Chanse) )\r\n        call MultiSetValue( udg_multi, 2, 2, I2S(udg_Heroes_Ressurect) )\r\n        call MultiSetValue( udg_multi, 3, 1, udg_Version )\r\n        call MultiSetValue( udg_multi, 3, 2, \"Common +0\" )\r\n        call MultiSetValue( udg_multi, 5, 1, \"1/10\" )\r\n        call MultiSetValue( udg_multi, 1, 1, \"Attempts Left:\" )\r\n        call MultiSetValue( udg_multi, 1, 2, \"Resurrections:\" )\r\n        call MultiSetValue( udg_multi, 1, 4, \"Spell power\" )\r\n        call MultiSetValue( udg_multi, 1, 5, \"Luck\" )\r\n        call MultiSetValue( udg_multi, 1, 6, \"Damage Dealt (Game)\" )\r\n        call MultiSetValue( udg_multi, 1, 7, \"Damage Dealt (Fight)\" )\r\n        call MultiSetValue( udg_multi, 1, 8, \"DPS\" )\r\n        call MultiSetValue( udg_multi, 1, 9, \"Healing (Game)\" )\r\n        call MultiSetValue( udg_multi, 1, 10, \"Healing (Fight)\" )\r\n        call MultiSetValue( udg_multi, 1, 11, \"Mana (Game)\" )\r\n        call MultiSetValue( udg_multi, 1, 12, \"Mana (Fight)\" )\r\n        call MultiSetValue( udg_multi, 1, 13, \"Damage Taken (Game)\" )\r\n        call MultiSetValue( udg_multi, 1, 14, \"Damage Taken (Fight)\" )\r\n        call MultiSetValue( udg_multi, 1, 15, \"Sets\" )\r\n        call MultiSetValue( udg_multi, 4, 2, \"IA\" )\r\n        call MultiSetValue( udg_multi, 5, 2, \"AL\" )\r\n        call MultiSetValue( udg_multi, 4, 1, \"Level:\" )\r\n        call MultiSetColor( udg_multi, 3, 1, 100.00, 80.00, 0.00, 0.00 )\r\n        call MultiSetColor( udg_multi, 4, 1, 100.00, 80.00, 0.00, 0.00 )\r\n        if udg_Heroes_Amount == 1 then\r\n            call MultiSetColor( udg_multi, 3, 2, 80.00, 0.00, 0.00, 0.00 )\r\n            set udg_logic[0] = true\r\n        else\r\n            call MultiSetColor( udg_multi, 3, 2, 100.00, 80.00, 0.00, 0.00 )\r\n        endif\r\n        loop\r\n            exitwhen cyclA > 4\r\n            set i = ( 3 * udg_Multiboard_Position[cyclA] ) - 1\r\n            if GetPlayerSlotState(Player(cyclA - 1)) == PLAYER_SLOT_STATE_PLAYING then\r\n                call MultiSetColor( udg_multi, i, 3, udg_Color_Player_Red[cyclA], udg_Color_Player_Green[cyclA], udg_Color_Player_Blue[cyclA], 0.00 )\r\n                call MultiSetValue( udg_multi, i, 3, GetSmallPlayerName(GetPlayerName(Player(cyclA - 1)), cyclA) )\r\n                call MultiSetIcon( udg_multi, i, 3, \"ReplaceableTextures\\\\CommandButtons\\\\BTNSelectHeroOn.blp\" )\r\n                call MultiSetValue( udg_multi, i, 4, \"0%\" )\r\n                call MultiSetValue( udg_multi, i, 5, \"0% (0)\" )\r\n                call MultiSetWidth( udg_multi, i, 15, 1.00 )\r\n                call MultiSetWidth( udg_multi, i + 1, 15, 1.00 )\r\n                call MultiSetWidth( udg_multi, i + 2, 15, 6.00 )\r\n                set udg_Color_Player_Red[cyclA] = 0.\r\n                set udg_Color_Player_Green[cyclA] = 0.\r\n                set udg_Color_Player_Blue[cyclA] = 0.\r\n                if i + 2 != 1 then\r\n                    call MultiSetColor( udg_multi, i + 2, 15, 101, 67, 33, 0. )\r\n                    call MultiSetValue( udg_multi, i + 2, 15, \"0\" )\r\n                endif\r\n                set cyclB = 1\r\n                loop\r\n                    exitwhen cyclB > 14\r\n                    call MultiSetWidth( udg_multi, i, cyclB, 7.98 )\r\n                    call MultiSetWidth( udg_multi, i + 1, cyclB, 0.01 )\r\n                    call MultiSetWidth( udg_multi, i + 2, cyclB, 0.01 )\r\n                    if cyclB >= 6 then\r\n                        call MultiSetValue( udg_multi, i, cyclB, \"0\" )\r\n                    endif\r\n                    set cyclB = cyclB + 1\r\n                endloop\r\n            endif\r\n            set cyclA = cyclA + 1\r\n        endloop\r\n        \r\n        set cyclA = 1\r\n        loop\r\n            exitwhen cyclA > 15\r\n            call MultiSetWidth( udg_multi, 1, cyclA, 14 )\r\n            call MultiSetStyle( udg_multi, 1, cyclA, true, false )\r\n            set cyclA = cyclA + 1\r\n        endloop\r\n        set cyclA = 1\r\n        set cyclAEnd = ( 3 * udg_Heroes_Amount ) + 2\r\n        loop\r\n            exitwhen cyclA > cyclAEnd\r\n            call MultiSetColor( udg_multi, cyclA, 4, 100.00, 50.00, 100.00, 0.00 )\r\n            call MultiSetColor( udg_multi, cyclA, 5, 90.00, 70.00, 35.00, 0.00 )\r\n            call MultiSetColor( udg_multi, cyclA, 8, 85.00, 85.00, 0.00, 0.00 )\r\n            if cyclA != 1 then\r\n                if cyclA != ( 3 * udg_Heroes_Amount ) + 2 then\r\n                    call MultiSetIcon( udg_multi, cyclA, 15, \"ReplaceableTextures\\\\CommandButtons\\\\BTNCancel.blp\" )\r\n                else\r\n                    call MultiSetStyle( udg_multi, cyclA, 15, true, false )\r\n                endif\r\n                call MultiSetStyle( udg_multi, cyclA, 1, true, false )\r\n                call MultiSetStyle( udg_multi, cyclA, 2, true, false )\r\n                if cyclA != 3 and cyclA != 4 then\r\n                    call MultiSetWidth( udg_multi, cyclA, 1, 2.00 )\r\n                    call MultiSetWidth( udg_multi, cyclA, 2, 2.00 )\r\n                else\r\n                    call MultiSetWidth( udg_multi, cyclA, 1, 6 )\r\n                    call MultiSetWidth( udg_multi, cyclA, 2, 6 )\r\n                endif\r\n                if cyclA != 2 and cyclA != 5 and cyclA != 8 and cyclA != 11 then\r\n                    call MultiSetStyle( udg_multi, cyclA, 3, true, false )\r\n                endif\r\n                set cyclB = 4\r\n                loop\r\n                    exitwhen cyclB > 14\r\n                    call MultiSetStyle( udg_multi, cyclA, cyclB, true, false )\r\n                    set cyclB = cyclB + 1\r\n                endloop\r\n            endif\r\n            set cyclA = cyclA + 1\r\n        endloop\r\n        call MultiSetWidth( udg_multi, 4, 1, 6 )\r\n        call MultiSetWidth( udg_multi, 5, 1, 4 )\r\n        call MultiSetWidth( udg_multi, 4, 2, 2. )\r\n        call MultiSetWidth( udg_multi, 3, 2, 8 )\r\n        call MultiSetStyle( udg_multi, ( 3 * udg_Heroes_Amount ) + 2, 3, true, false )\r\n        call MultiSetColor( udg_multi, 4, 2, 0, 0, 0, 100.00 )\r\n        call MultiSetColor( udg_multi, 5, 2, 0, 0, 0, 100.00 )\r\n        \r\n        call MultiboardMinimize( udg_multi, true)\r\n    endfunction\r\n\r\nendlibrary",
  "Events": [],
  "LocalVariables": [],
  "Conditions": [],
  "Actions": []
}