{
  "Id": 50332336,
  "Comment": "",
  "IsScript": true,
  "RunOnMapInit": false,
  "Script": "scope JuleFrame initializer init\r\n\r\n    globals\r\n        private constant real SIZE = 1\r\n\r\n        framehandle juleback\r\n        framehandle juleextra1\r\n        framehandle juleextra2\r\n        framehandle julerefr\r\n        framehandle julecont\r\n        framehandle juleupgr\r\n        framehandle bookOfOblivionCostText\r\n        framehandle array juleicon[ROW_LIMIT_ARRAYS][COLUMN_LIMIT_ARRAYS]\r\n        framehandle array julebut[ROW_LIMIT_ARRAYS][COLUMN_LIMIT_ARRAYS]\r\n        framehandle array juletext[ROW_LIMIT_ARRAYS][COLUMN_LIMIT_ARRAYS]\r\n        //framehandle array julename[ROW_LIMIT_ARRAYS][COLUMN_LIMIT_ARRAYS]\r\n        //framehandle array juledisc[ROW_LIMIT_ARRAYS][COLUMN_LIMIT_ARRAYS]\r\n        //framehandle array julediscback[ROW_LIMIT_ARRAYS][COLUMN_LIMIT_ARRAYS]\r\n        \r\n        boolean array julebool[ROW_LIMIT_ARRAYS][3]\r\n        integer array julecost[ROW_LIMIT_ARRAYS][COLUMN_LIMIT_ARRAYS]\r\n        \r\n        integer julenum = 0\r\n        private integer Index = 1\r\n    endglobals\r\n        \r\n    /*function SetStableToolJule takes integer a, integer b, string name, string disc returns nothing\r\n        set julediscback[a][b] = BlzCreateFrame( \"QuestButtonBaseTemplate\", julebut[a][b], 0, 0 )\r\n        call BlzFrameSetAbsPoint(julediscback[a][b], FRAMEPOINT_BOTTOM, 0.7, 0.16)\r\n        call BlzFrameSetTooltip( julebut[a][b], julediscback[a][b] )\r\n        call BlzFrameSetSize( julediscback[a][b], 0.35, StringSizeStableTool(disc) )\r\n\r\n        set julename[a][b] = BlzCreateFrameByType(\"TEXT\", \"\",  julediscback[a][b], \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetPoint( julename[a][b], FRAMEPOINT_TOPLEFT, julediscback[a][b], FRAMEPOINT_TOPLEFT, 0.008,-0.008) \r\n        call BlzFrameSetSize(julename[a][b], 0.25, StringSizeStableTool(disc)+0.05)\r\n        call BlzFrameSetText( julename[a][b], name )\r\n\r\n        set juledisc[a][b] = BlzCreateFrameByType(\"TEXT\", \"\",  julediscback[a][b], \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetPoint( juledisc[a][b], FRAMEPOINT_TOPLEFT, julediscback[a][b], FRAMEPOINT_TOPLEFT, 0.008,-0.023) \r\n        call BlzFrameSetSize(juledisc[a][b], 0.25, StringSizeStableTool(disc)+0.05)\r\n        call BlzFrameSetText( juledisc[a][b], disc )\r\n    endfunction*/\r\n\r\n    function ButtonExitJule takes nothing returns nothing\r\n        if GetLocalPlayer() == GetTriggerPlayer() then\r\n            call BlzFrameSetVisible( juleback,false)\r\n        endif\r\n    endfunction\r\n\r\n    function JuleAddItem takes unit u, integer index returns item\r\n        set udg_it = CreateItem( index, GetUnitX(u), GetUnitY(u) )\r\n        call SaveBoolean( udg_hash, GetHandleId( udg_it ), StringHash( \"jule\" ), true ) \r\n        return udg_it\r\n    endfunction\r\n\r\n    private function Buy takes nothing returns nothing\r\n        local player p = GetTriggerPlayer()\r\n        local unit u = udg_hero[GetPlayerId(GetTriggerPlayer()) + 1]\r\n        local integer cyclA\r\n        local integer cyclB\r\n        local integer f = 0\r\n        local integer itemInSlot\r\n        \r\n        if GetLocalPlayer() == p then\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),false)\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),true)\r\n        endif\r\n        \r\n        if UnitInventoryCount(u) < 6 then\r\n            set cyclB = 1\r\n            loop\r\n                exitwhen cyclB > 4\r\n                set cyclA = 1\r\n                loop\r\n                    exitwhen cyclA > 4\r\n                    set f = f + 1\r\n                    set itemInSlot = JuleLib_GetItemInSlot(f)\r\n                    //call BJDebugMsg(\"item: \" + I2S(itemInSlot))\r\n                    if julebut[cyclA][cyclB] == BlzGetTriggerFrame() and GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) >= julecost[cyclA][cyclB] and itemInSlot != 0 then\r\n                        call BlzFrameSetVisible( juleicon[cyclA][cyclB], false )\r\n                        call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, IMaxBJ(0,GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - julecost[cyclA][cyclB]))\r\n                        call UnitAddItem( u, JuleAddItem(u, itemInSlot) )\r\n                        //set udg_JuleItem[f] = 0\r\n                        set cyclA = 4\r\n                        set cyclB = 4\r\n                    endif\r\n                    set cyclA = cyclA + 1\r\n                endloop\r\n                set cyclB = cyclB + 1\r\n            endloop \r\n        endif\r\n\r\n        set p = null\r\n    endfunction\r\n\r\n    function JuleRefresh takes nothing returns nothing\r\n        local player p = GetTriggerPlayer()\r\n        if GetLocalPlayer() == p then\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),false)\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),true)\r\n        endif\r\n\r\n        if GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) >= 400 or udg_logic[42] then\r\n            call JuleRef()\r\n            if udg_logic[42] then\r\n                set udg_logic[42] = false\r\n                call BlzFrameSetText( juletext[1][0], \"400 G\" )\r\n            else\r\n                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, IMaxBJ(0,GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 400))\r\n            endif\r\n        endif\r\n        set p = null\r\n    endfunction\r\n\r\n    function JuleContract takes nothing returns nothing\r\n        local effect fx\r\n        local player p = GetTriggerPlayer()\r\n        \r\n        if GetLocalPlayer() == p then\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),false)\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),true)\r\n        endif\r\n        if GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) >= 125 then\r\n            if not(udg_logic[99] ) then\r\n                set udg_logic[99] = true\r\n                set fx = AddSpecialEffectTarget( \"Boomer Scroll SD.mdx\", udg_UNIT_JULE, \"origin\" )\r\n                call BlzSetSpecialEffectScale( fx, 0.5 )\r\n                call DestroyEffect( fx )\r\n                call DisplayTimedTextToForce( bj_FORCE_ALL_PLAYERS, 10, \"|cffffcc00Contract|r with Jule is signed.\" )\r\n                call StartSound(gg_snd_QuestLog)\t\r\n                call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, IMaxBJ(0,GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - 125))\r\n                call BlzFrameSetVisible( julecont, false )\r\n            else\r\n                call textst( \"Already active\", udg_UNIT_JULE, 64, 90, 8, 1 )\r\n            endif\r\n        endif\r\n        \r\n        set fx = null\r\n        set p = null\r\n    endfunction\r\n\r\n    function JuleUpgradeUse takes nothing returns nothing\r\n        if julenum < 8 then\r\n            set julenum = julenum + 1\r\n            set JuleLib_Item_Name[8+julenum] = \"Unlocked\"\r\n            set JuleLib_Item_Description[8+julenum] = \"The artifact will be available for purchase here soon.\"\r\n            if julenum > 4 then\r\n                set julebool[julenum-4][2] = true\r\n                call BlzFrameSetTexture( juleicon[julenum-4][4], \"war3mapImported\\\\BTNfeed-icon-red-1_result.blp\", 0, true )\r\n            else\r\n                set julebool[julenum][1] = true\r\n                call BlzFrameSetTexture( juleicon[julenum][3], \"war3mapImported\\\\BTNfeed-icon-red-1_result.blp\", 0, true )\r\n            endif\r\n            if julenum < 8 then\r\n                call BlzFrameSetText( juletext[0][0], I2S(300 + (100*julenum))+\" G\" )\r\n            else\r\n                call BlzFrameSetVisible( juleupgr,false)\r\n            endif\r\n            call DestroyEffect( AddSpecialEffect( \"Abilities\\\\Spells\\\\Other\\\\Levelup\\\\LevelupCaster.mdl\", GetUnitX( udg_UNIT_JULE ), GetUnitY( udg_UNIT_JULE ) ) )\r\n            call DisplayTimedTextToForce( bj_FORCE_ALL_PLAYERS, 10, \"|cffffcc00Jule|r has been upgraded.\" )\r\n        endif\r\n    endfunction\r\n\r\n    private function JuleUpgrade takes nothing returns nothing\r\n        local player p = GetTriggerPlayer()\r\n        local integer cost = 300 + (100*julenum)\r\n        \r\n        if GetLocalPlayer() == p then\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),false)\r\n            call BlzFrameSetVisible( BlzGetTriggerFrame(),true)\r\n        endif\r\n        \r\n        if GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) >= cost then\r\n            call JuleUpgradeUse()\r\n            call SetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD, IMaxBJ(0,GetPlayerState(p, PLAYER_STATE_RESOURCE_GOLD) - cost))\r\n        endif\r\n        \r\n        set p = null\r\n    endfunction\r\n    \r\n    private function EnableTooltip takes nothing returns nothing\r\n        local integer index = LoadInteger(udg_hash, GetHandleId(BlzGetTriggerFrame()), StringHash(\"index\") )\r\n \r\n        call Tooltip_SetLocalTooltipText(GetTriggerPlayer(), JuleLib_Item_Name[index], JuleLib_Item_Description[index])\r\n    endfunction\r\n    \r\n    private function CreateJuleButton takes integer raw, integer column, framehandle parent, real x, real y, string name, string description returns nothing\r\n        set julecost[raw][column] = 0\r\n        set juleicon[raw][column] = BlzCreateFrameByType(\"BACKDROP\", \"\", parent, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( juleicon[raw][column], 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(juleicon[raw][column], FRAMEPOINT_TOP, parent, FRAMEPOINT_TOP, x, y)\r\n        call BlzFrameSetTexture( juleicon[raw][column], \"war3mapImported\\\\BTNIconLock.blp\", 0, true )\r\n        \r\n        set julebut[raw][column] = BlzCreateFrameByType(\"GLUEBUTTON\", \"\", juleicon[raw][column], \"ScoreScreenTabButtonTemplate\", 0)\r\n        call BlzFrameSetSize( julebut[raw][column], 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(julebut[raw][column], FRAMEPOINT_CENTER, juleicon[raw][column], FRAMEPOINT_CENTER, 0,0)\r\n        \r\n        set JuleLib_Item_Name[Index] = name\r\n        set JuleLib_Item_Description[Index] = description\r\n        \r\n        call Tooltip_AddMouseEvent( julebut[raw][column], function EnableTooltip, function Buy, Index )\r\n        set Index = Index + 1\r\n        \r\n        set juletext[raw][column] = BlzCreateFrameByType(\"TEXT\", \"\", juleicon[raw][column], \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( juletext[raw][column], 0.04*SIZE, 0.01*SIZE )\r\n        call BlzFrameSetPoint(juletext[raw][column], FRAMEPOINT_TOP, juleicon[raw][column], FRAMEPOINT_TOP, 0.01*SIZE,-0.04*SIZE) \r\n        \r\n        set parent = null\r\n    endfunction\r\n    \r\n    private function Action takes nothing returns nothing\r\n        local trigger trig\r\n        local framehandle frameback\r\n        local framehandle framebase\r\n        local framehandle frame\r\n        local integer cyclA\r\n        local integer cyclB\r\n\r\n        set cyclA = 1\r\n        loop\r\n            exitwhen cyclA > PLAYERS_LIMIT\r\n            set Book_Of_Oblivion_Cost[cyclA] = BOOK_OF_OBLIVION_BASE_COST\r\n            set cyclA = cyclA + 1\r\n        endloop\r\n\r\n        set juleback = BlzCreateFrame(\"QuestButtonBaseTemplate\", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)\r\n        call BlzFrameSetAbsPoint(juleback, FRAMEPOINT_TOPRIGHT, 0.75, 0.53)\r\n        call BlzFrameSetSize(juleback, SIZE*0.27, SIZE*0.28)\r\n        call BlzFrameSetVisible( juleback, false )\r\n        call BlzFrameSetLevel( juleback, -1 )\r\n        \r\n        \r\n        //=========Команды=========\r\n        set frameback = BlzCreateFrame(\"QuestButtonBackdropTemplate\", juleback, 0, 0)\r\n        call BlzFrameSetPoint(frameback, FRAMEPOINT_TOPLEFT, juleback, FRAMEPOINT_TOPLEFT, 0.005*SIZE,-0.005*SIZE) \r\n        call BlzFrameSetSize(frameback, 0.06*SIZE, 0.27*SIZE)\r\n        \r\n        \r\n        //Refresh\r\n        set julerefr = BlzCreateFrameByType(\"BACKDROP\", \"\", frameback, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( julerefr, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(julerefr, FRAMEPOINT_CENTER, frameback, FRAMEPOINT_TOP, 0*SIZE,-0.03*SIZE)\r\n        call BlzFrameSetTexture( julerefr, \"ReplaceableTextures\\\\CommandButtons\\\\BTNRiderlessKodo.blp\", 0, true )\r\n        \r\n        set framebase = BlzCreateFrameByType(\"GLUEBUTTON\", \"\", julerefr, \"ScoreScreenTabButtonTemplate\", 0)\r\n        call BlzFrameSetSize( framebase, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(framebase, FRAMEPOINT_CENTER, julerefr, FRAMEPOINT_CENTER, 0,0)\r\n        \r\n        set trig = CreateTrigger()\r\n        call BlzTriggerRegisterFrameEvent(trig, framebase, FRAMEEVENT_CONTROL_CLICK)\r\n        call TriggerAddAction(trig, function JuleRefresh)\r\n        \r\n        call SetStableTool( framebase, \"Refresh goods\", \"Refresh the goods from Jule.\" )\r\n        \r\n        set juletext[1][0] = BlzCreateFrameByType(\"TEXT\", \"\", framebase, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( juletext[1][0], 0.03*SIZE, 0.01*SIZE )\r\n        call BlzFrameSetPoint(juletext[1][0], FRAMEPOINT_TOP, framebase, FRAMEPOINT_TOP, 0,-0.04*SIZE) \r\n        call BlzFrameSetText( juletext[1][0], \"400 G\" )\r\n        \r\n        \r\n        //Contract\r\n        set julecont = BlzCreateFrameByType(\"BACKDROP\", \"\", frameback, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( julecont, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(julecont, FRAMEPOINT_CENTER, frameback, FRAMEPOINT_BOTTOM, 0*SIZE,0.04*SIZE)\r\n        call BlzFrameSetTexture( julecont, \"ReplaceableTextures\\\\CommandButtons\\\\BTNScrollOfProtection.blp\", 0, true )\r\n        \r\n        set framebase = BlzCreateFrameByType(\"GLUEBUTTON\", \"\", julecont, \"ScoreScreenTabButtonTemplate\", 0)\r\n        call BlzFrameSetSize( framebase, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(framebase, FRAMEPOINT_CENTER, julecont, FRAMEPOINT_CENTER, 0,0)\r\n\r\n        set trig = CreateTrigger()\r\n        call BlzTriggerRegisterFrameEvent(trig, framebase, FRAMEEVENT_CONTROL_CLICK)\r\n        call TriggerAddAction(trig, function JuleContract)\r\n        \r\n        call SetStableTool( framebase, \"Contract\", \"Jule will not refresh artifacts after defeating a boss.\" )\r\n        \r\n        set juletext[2][0] = BlzCreateFrameByType(\"TEXT\", \"\", framebase, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( juletext[2][0], 0.03*SIZE, 0.01*SIZE )\r\n        call BlzFrameSetPoint(juletext[2][0], FRAMEPOINT_TOP, framebase, FRAMEPOINT_TOP, 0,-0.04*SIZE) \r\n        call BlzFrameSetText( juletext[2][0], \"125 G\" )\r\n        \r\n        \r\n        //Tome of Oblivion\r\n        set frame = BlzCreateFrameByType(\"BACKDROP\", \"\", frameback, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( frame, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(frame, FRAMEPOINT_CENTER, frameback, FRAMEPOINT_TOP, 0*SIZE,-0.08*SIZE)\r\n        call BlzFrameSetTexture( frame, \"ReplaceableTextures\\\\CommandButtons\\\\BTNTomeOfRetraining.blp\", 0, true )\r\n        \r\n        set framebase = BlzCreateFrameByType(\"GLUEBUTTON\", \"\", frame, \"ScoreScreenTabButtonTemplate\", 0)\r\n        call BlzFrameSetSize( framebase, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(framebase, FRAMEPOINT_CENTER, frame, FRAMEPOINT_CENTER, 0,0)\r\n\r\n        set trig = CreateTrigger()\r\n        call BlzTriggerRegisterFrameEvent(trig, framebase, FRAMEEVENT_CONTROL_CLICK)\r\n        call TriggerAddAction(trig, function Book_Of_Oblivion)\r\n        \r\n        call SetStableTool( framebase, \"Tome of Oblivion\", \"Forces the hero to forget all abilities and allows it to learn others.\" )\r\n        \r\n        set bookOfOblivionCostText = BlzCreateFrameByType(\"TEXT\", \"\", framebase, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( bookOfOblivionCostText, 0.03*SIZE, 0.01*SIZE )\r\n        call BlzFrameSetPoint(bookOfOblivionCostText, FRAMEPOINT_TOP, framebase, FRAMEPOINT_TOP, 0,-0.04*SIZE) \r\n        call BlzFrameSetText( bookOfOblivionCostText, I2S(Book_Of_Oblivion_Cost[1]) + \" G\" )\r\n        \r\n        \r\n        //Upgrade\r\n        set juleupgr = BlzCreateFrameByType(\"BACKDROP\", \"\", frameback, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( juleupgr, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(juleupgr, FRAMEPOINT_CENTER, frameback, FRAMEPOINT_BOTTOM, 0*SIZE,0.09*SIZE)\r\n        call BlzFrameSetTexture( juleupgr, \"ReplaceableTextures\\\\CommandButtons\\\\BTNCryptFiendUnBurrow.blp\", 0, true )\r\n        \r\n        set framebase = BlzCreateFrameByType(\"GLUEBUTTON\", \"\", juleupgr, \"ScoreScreenTabButtonTemplate\", 0)\r\n        call BlzFrameSetSize( framebase, 0.035*SIZE, 0.035*SIZE )\r\n        call BlzFrameSetPoint(framebase, FRAMEPOINT_CENTER, juleupgr, FRAMEPOINT_CENTER, 0,0)\r\n        \r\n        set trig = CreateTrigger()\r\n        call BlzTriggerRegisterFrameEvent(trig, framebase, FRAMEEVENT_CONTROL_CLICK)\r\n        call TriggerAddAction(trig, function JuleUpgrade)\r\n        \r\n        call SetStableTool( framebase, \"Upgrade\", \"Improves the shop by increasing the assortment of artifacts.\" )\r\n        \r\n        set juletext[0][0] = BlzCreateFrameByType(\"TEXT\", \"\", framebase, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize( juletext[0][0], 0.03*SIZE, 0.01*SIZE )\r\n        call BlzFrameSetPoint(juletext[0][0], FRAMEPOINT_TOP, framebase, FRAMEPOINT_TOP, 0,-0.04*SIZE) \r\n        call BlzFrameSetText( juletext[0][0], \"300 G\" )\r\n        \r\n        \r\n        //=========Основные предметы=========\r\n        set framebase = BlzCreateFrame(\"QuestButtonBackdropTemplate\", juleback, 0, 0)\r\n        call BlzFrameSetPoint(framebase, FRAMEPOINT_TOPLEFT, juleback, FRAMEPOINT_TOPLEFT, 0.063*SIZE,-0.005*SIZE) \r\n        call BlzFrameSetSize(framebase, 0.2*SIZE, 0.13*SIZE)\r\n\r\n        set cyclB = 1\r\n        loop\r\n            exitwhen cyclB > 2\r\n            set cyclA = 1\r\n            loop\r\n                exitwhen cyclA > ROW_LIMIT\r\n                call CreateJuleButton( cyclA, cyclB, framebase, (-0.115+(cyclA*0.045))*SIZE, (0.05+(-0.06*cyclB))*SIZE, \"Locked\", \"Defeat the first boss to unlock.\" )\r\n                set cyclA = cyclA + 1\r\n            endloop\r\n            set cyclB = cyclB + 1\r\n        endloop \r\n        \r\n        \r\n        //=========Дополнительные предметы=========\r\n        set juleextra1 = BlzCreateFrame(\"QuestButtonBackdropTemplate\", juleback, 0, 0)\r\n        call BlzFrameSetPoint(juleextra1, FRAMEPOINT_TOPLEFT, juleback, FRAMEPOINT_TOPLEFT, 0.063*SIZE,-0.135*SIZE) \r\n        call BlzFrameSetSize(juleextra1, 0.2*SIZE, 0.07*SIZE)\r\n        \r\n        set cyclA = 1\r\n        loop\r\n            exitwhen cyclA > ROW_LIMIT\r\n                set julebool[cyclA][1] = false\r\n                call CreateJuleButton( cyclA, 3, juleextra1, (-0.115+(cyclA*0.045))*SIZE,-0.01*SIZE, \"Locked\", \"Upgrade this store to open.\" )\r\n            set cyclA = cyclA + 1\r\n        endloop \r\n        \r\n        \r\n        //=========Наборные предметы=========\r\n        set juleextra2 = BlzCreateFrame(\"QuestButtonBackdropTemplate\", juleback, 0, 0)\r\n        call BlzFrameSetPoint(juleextra2, FRAMEPOINT_TOPLEFT, juleback, FRAMEPOINT_TOPLEFT, 0.063*SIZE,-0.205*SIZE) \r\n        call BlzFrameSetSize(juleextra2, 0.2*SIZE, 0.07*SIZE)\r\n        \r\n        set cyclA = 1\r\n        loop\r\n            exitwhen cyclA > ROW_LIMIT\r\n                set julebool[cyclA][2] = false\r\n                call CreateJuleButton( cyclA, 4, juleextra2, (-0.115+(cyclA*0.045))*SIZE,-0.01*SIZE, \"Locked\", \"Upgrade this store to open.\" )\r\n            set cyclA = cyclA + 1\r\n        endloop \r\n        \r\n        \r\n        //=========Выключение=========\r\n        set framebase = BlzCreateFrameByType(\"BACKDROP\", \"\", juleback, \"StandartFrameTemplate\", 0)\r\n        call BlzFrameSetSize(framebase, 0.022, 0.022)\r\n        call BlzFrameSetPoint( framebase, FRAMEPOINT_CENTER, juleback, FRAMEPOINT_TOPRIGHT, -0.008, -0.008 )\r\n        call BlzFrameSetTexture(framebase, \"war3mapImported\\\\BTNExit.blp\", 0, true)\r\n        \r\n        set frame = BlzCreateFrameByType(\"GLUEBUTTON\", \"\", juleback, \"ScoreScreenTabButtonTemplate\", 0)\r\n        call BlzFrameSetSize( frame, 0.025, 0.025 )\r\n        call BlzFrameSetPoint( frame, FRAMEPOINT_CENTER, framebase, FRAMEPOINT_CENTER, 0, 0 )\r\n        \r\n        set trig = CreateTrigger()\r\n        call BlzTriggerRegisterFrameEvent(trig, frame, FRAMEEVENT_CONTROL_CLICK)\r\n        call TriggerAddAction(trig, function ButtonExitJule)\r\n        \r\n        set trig = null\r\n        set frame = null\r\n        set framebase = null\r\n    endfunction\r\n\r\n    //===========================================================================\r\n    private function init takes nothing returns nothing\r\n        call TimerStart(CreateTimer(), 0.05, false, function Action)\r\n    endfunction\r\n\r\nendscope",
  "Events": [],
  "LocalVariables": [],
  "Conditions": [],
  "Actions": []
}